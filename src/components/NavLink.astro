---
//NavLink.astro
interface NavLinkProps {
  href: string
  text: string
}

const { href, text } = Astro.props as NavLinkProps

const { pathname } = Astro.url

// Comprueba si la ruta actual está activa
const isActive = (path: string) => pathname === path
---

<a
  onclick="localStorage.setItem('mobile-nav', 'off'); window.dispatchEvent(new Event('mobile-nav'))"
  href={href}
  class="group relative inline-block py-1 leading-relaxed tracking-wider"
>
  <span class="text-theme-seashell">{text}</span>
  {/* Contenedor del subrayado con overflow hidden para la animación */}
  <div class="relative mt-1 h-[2px] w-full overflow-hidden">
    {/* Línea rosa que se anima desde la izquierda */}
    <div
      class:list={[
        'duration-250 absolute bottom-0 left-0 h-full bg-[color:var(--color-theme-tickle-me-pink)] transition-all ease-out',
        isActive(href) ? 'w-[51%]' : 'w-0 group-hover:w-[51%]',
      ]}
    >
    </div>
    {/* Línea turquesa que se anima desde la derecha */}
    <div
      class:list={[
        'duration-250 absolute bottom-0 right-0 h-full bg-[color:var(--color-theme-turquoise)] transition-all ease-out',
        isActive(href) ? 'w-[51%]' : 'w-0 group-hover:w-[51%]',
      ]}
    >
    </div>
  </div>
</a>
